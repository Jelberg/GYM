CREATE OR REPLACE FUNCTION LLENAR_DURACION() 
RETURNS TRIGGER AS $$

DECLARE 
HORA_INI TIME;
HORA_FIN TIME;
HORA	 TIME;
DURACION TIME;
ID 	 INTEGER;

BEGIN

	SELECT HC_ID,HC_HORA_INICIO, HC_HORA_FIN INTO ID, HORA_INI, HORA_FIN
	FROM HORARIO_CLASE ORDER BY HC_ID DESC LIMIT 1; 
 
	HORA = HORA_FIN - HORA_INICIO;

	UPDATE HORARIO_CLASE SET HC_DURACION=HORA WHERE HC_ID=ID;
END $$ 
language plpgsql;

